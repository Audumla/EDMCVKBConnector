{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "[fav] EDMC: Run Tests",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": [
                "tests/run_all_tests.py"
            ],
            "group": {
                "kind": "test",
                "isDefault": true
            },
            "problemMatcher": [],
            "detail": "Run the full test suite"
        },
        {
            "label": "[fav] Release: Prepare preview",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": [
                "scripts/release_workflow.py",
                "--strict",
                "--preview-only",
                "--summarize-backend",
                "${input:releaseBackend}"
            ],
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "focus": true
            },
            "detail": "Rebuild CHANGELOG.md and release preview (choose summarizer backend)"
        },
        {
            "label": "[fav] Release: Full workflow",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": [
                "scripts/release_workflow.py",
                "--strict",
                "--summarize-backend",
                "${input:releaseBackend}",
                "--bump",
                "${input:releaseBump}"
            ],
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "focus": true
            },
            "detail": "Prepare changelog preview, then trigger release-please (choose backend + bump)"
        },
        {
            "label": "[fav] EDMC: Run EDMC (DEV - Isolated Config)",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": [
                "scripts/run_edmc_from_dev.py"
            ],
            "problemMatcher": [],
            "detail": "Run EDMC from dev repository with isolated config (won't touch installed EDMC settings)"
        },
        {
            "label": "EDMC: Bootstrap Dev Environment",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": [
                "scripts/bootstrap_dev_env.py"
            ],
            "problemMatcher": [],
            "detail": "Set up development environment: clone EDMC, create venv, install deps, link plugin"
        },
        {
            "label": "EDMC: Bootstrap + Run Tests",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": [
                "scripts/bootstrap_dev_env.py",
                "--run-tests"
            ],
            "problemMatcher": [],
            "hide": true,
            "detail": "Bootstrap environment and run all tests (less common; hidden from picker)"
        },
        {
            "label": "EDMC: Run EDMC (DEV - System Config)",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": [
                "scripts/run_edmc_from_dev.py",
                "--use-system-config"
            ],
            "problemMatcher": [],
            "hide": true,
            "detail": "Run EDMC from dev repository using your actual EDMC configuration"
        },
        {
            "label": "EDMC: Package Plugin",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": [
                "scripts/package_plugin.py"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": [],
            "detail": "Create distributable ZIP file in dist/ directory"
        },
        {
            "label": "EDMC: UI Bootstrap (Rule Editor)",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": [
                "test/ui_bootstrap_runner.py"
            ],
            "problemMatcher": [],
            "detail": "Launch the rule editor UI for manual testing"
        },
        {
            "label": "EDMC: Signal Catalog Editor",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": [
                "scripts/signal_catalog_editor.py"
            ],
            "problemMatcher": [],
            "detail": "Launch the signal catalog editor UI"
        },
        {
            "label": "Release: Trigger release (already prepared)",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": [
                "scripts/release_workflow.py",
                "--skip-prepare",
                "--bump",
                "${input:releaseBump}"
            ],
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "focus": true
            },
            "detail": "Trigger release-please only (skip local summarize/rebuild)"
        },
        {
            "label": "Release: Trigger release-please workflow (raw)",
            "type": "shell",
            "command": "gh",
            "args": [
                "workflow",
                "run",
                "release-please.yml"
            ],
            "problemMatcher": [],
            "hide": true,
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "focus": true
            },
            "detail": "Direct workflow trigger with no local safety checks"
        }
    ],
    "inputs": [
        {
            "id": "releaseBackend",
            "type": "pickString",
            "description": "Summarizer backend",
            "default": "codex",
            "options": [
                "codex",
                "claude-cli",
                "copilot",
                "gemini",
                "claude",
                "intelligent"
            ]
        },
        {
            "id": "releaseBump",
            "type": "pickString",
            "description": "Release bump strategy",
            "default": "auto",
            "options": [
                "auto",
                "patch",
                "minor",
                "major"
            ]
        }
    ]
}
