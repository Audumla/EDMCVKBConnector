# Signal Catalog Editor - UI Layout

## Action Buttons (2-Column Layout)

The action buttons are organized in 2 columns with logical grouping:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Actions                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  LEFT COLUMN              â”‚  RIGHT COLUMN               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¾ Save (Ctrl+S)         â”‚                             â”‚
â”‚  âŸ² Undo (Ctrl+Z)          â”‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Rename Label             â”‚  Change Tier                â”‚
â”‚  Rename Signal Key        â”‚                             â”‚
â”‚  ğŸ—‘ï¸ Delete Signal          â”‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Move to Category         â”‚  ğŸ“ Edit Enum Values         â”‚
â”‚  Move to Subcategory      â”‚  Merge Enums                â”‚
â”‚  Promote to Top Level     â”‚                             â”‚
â”‚                           â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚                           â”‚  Expand All                 â”‚
â”‚                           â”‚  Collapse All               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Button Groups

### File Operations (Top Row - Both Columns)
**Location:** Row 1-2, spans both columns
**Buttons:**
- **ğŸ’¾ Save (Ctrl+S)** - Save changes without popup
- **âŸ² Undo (Ctrl+Z)** - Undo last operation

### Signal Editing (Left Column)
**Location:** Left column, rows 3-5
**Buttons:**
- **Rename Label** - Change signal display name
- **Rename Signal Key** - Change signal identifier
- **ğŸ—‘ï¸ Delete Signal** - Remove signal(s) from catalog

### Organization (Left Column)
**Location:** Left column, rows 6-8
**Buttons:**
- **Move to Category** - Assign to different category
- **Move to Subcategory** - Assign to subcategory
- **Promote to Top Level** - Remove from subcategory

### Tier Management (Right Column)
**Location:** Right column, row 3
**Buttons:**
- **Change Tier** - Change signal tier (core/detail/extended)

### Enum Operations (Right Column)
**Location:** Right column, rows 6-7
**Buttons:**
- **ğŸ“ Edit Enum Values** - Open enum editor dialog
- **Merge Enums** - Merge two enum signals

### View Operations (Right Column)
**Location:** Right column, rows 8-9
**Buttons:**
- **Expand All** - Expand all tree nodes
- **Collapse All** - Collapse all tree nodes

---

## Context Menu (Right-Click)

Right-click on any signal to access:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Rename Label           â”‚
â”‚  Rename Signal Key      â”‚
â”‚  Delete Signal          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Move to Category       â”‚
â”‚  Move to Subcategory    â”‚
â”‚  Promote to Top Level   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Change Tier            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Edit Enum Values       â”‚
â”‚  Merge Enums            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Key Changes from Previous Version

### Added Features âœ¨
1. **ğŸ’¾ Save Button** - Quick save without popup confirmation
2. **ğŸ—‘ï¸ Delete Signal** - Remove unwanted signals with confirmation
3. **2-Column Layout** - Better space utilization
4. **Logical Grouping** - Operations grouped by function

### Layout Improvements ğŸ“
- **Before:** Single column, 13 buttons stacked vertically
- **After:** Two columns, ~9 rows, better visual balance
- **Spacing:** Related operations grouped together
- **Width:** Each button expands to fill column (18 chars wide)

### Button Behavior ğŸ¯

#### Save Button (ğŸ’¾)
- **No popup** on successful save
- Status bar shows: "âœ“ Saved: signals_catalog.json"
- Only shows error popup if save fails
- Still shows "No changes to save" in status bar

#### Delete Button (ğŸ—‘ï¸)
- **Confirmation dialog** before deletion
- Supports **multi-select** deletion
- Undoable with Ctrl+Z
- Shows count of deleted signals

---

## Keyboard Shortcuts

| Action | Shortcut |
|--------|----------|
| Save | **Ctrl+S** |
| Undo | **Ctrl+Z** |
| Cancel drag | **Escape** |
| Rename label | **Double-click** |

---

## Complete Feature List

### File Operations
âœ“ Save (with/without popup)
âœ“ Save As
âœ“ Undo (50-level stack)
âœ“ Auto-backup on save

### Signal Operations
âœ“ Rename label
âœ“ Rename signal key
âœ“ Delete signal(s) â† NEW!
âœ“ Move to category
âœ“ Move to subcategory
âœ“ Promote to top level
âœ“ Change tier
âœ“ Multi-select support

### Enum Operations
âœ“ Edit enum values dialog
âœ“ Add/rename/delete values
âœ“ Reorder values
âœ“ Move values between signals
âœ“ Merge enum signals

### View Operations
âœ“ Expand/collapse all
âœ“ Drag & drop (with threshold)
âœ“ Tree navigation
âœ“ Details pane
âœ“ Status bar feedback

---

## Design Principles

### Grouping Logic
1. **Most frequent operations** at the top
2. **Related operations** grouped together
3. **Destructive operations** (delete) have confirmation
4. **File operations** always accessible

### Visual Balance
- **2 columns** = better space utilization
- **Even distribution** = no wasted space
- **Logical flow** = left (signal ops) â†’ right (view/enum ops)
- **Separators** = clear visual grouping

### User Experience
- **No unnecessary popups** (save is silent)
- **Clear feedback** (status bar messages)
- **Safety features** (confirmations, undo)
- **Consistent spacing** (2px padding)

---

## Comparison

### Before (Single Column)
```
Width: 20 chars
Height: ~27 rows (with separators)
Wasted space: Right side empty
Scroll: Required on smaller screens
```

### After (Two Columns)
```
Width: 18+18 = 36 chars (with padding)
Height: ~9 rows
Wasted space: Minimal
Scroll: Not needed on most screens
Visual balance: Much better
```

---

## Testing

**All 31 tests passing** âœ“

New tests added:
- `test_delete_signal` - Single deletion
- `test_delete_multiple_signals` - Bulk deletion

```bash
python -m pytest test/test_signal_catalog_editor.py -v
# 31 passed in 0.09s âœ“
```

---

**Last Updated:** 2026-02-17
**Layout Version:** 2.0
